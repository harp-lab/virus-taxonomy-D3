<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Virus Taxonomy</title>

    <link rel="stylesheet" href="./css/tippy.css">
    <link rel="stylesheet" href="./css/font-awesome.min.css">
    <link rel="stylesheet" href="./css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="./css/stylesheet.css">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>
    <script src="./js/d3.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="https://unpkg.com/@popperjs/core@2/dist/umd/popper.min.js"></script>
    <script src="./js/jquery.dataTables.min.js"></script>
    <script src="./js/tippy-bundle.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="./js/searchPanel.js"></script>
    <script src="./js/html2canvas.min.js"></script>
    <script src="./js/script.js"></script>
    
    <!-- <script src="https://unpkg.com/d3-simple-slider"></script> -->
</head>
<body>
  
<div id='d3_taxonomy_vis_container' class='ictv-custom'>
    <div class='header-panel'>
        <div class='label'>Release</div>
        <select class='release-ctrl'></select>
        <div class='font-size-panel'></div>
        <div class='search-panel'></div>       
  
    </div>
    <div class='search-results-panel'></div>
    <canvas id="screenshot-canvas"></canvas>
    <div class='body-panel'>
        <div class='taxonomy-panel'></div>
        <div class='species-panel light-bg'>
            <div class='parent-name'></div>
            <div class='species-list'></div>
         
        </div>
    </canvas>
    </div>

</div>
<script src="../js/script.js"></script>
<script type="text/javascript">

    // All ICTV MSL releases
    const releases = [   
        { year: "2022", label: "2022", rankCount: 12 },
        { year: "2021", label: "2021", rankCount: 12 },
        { year: "2020", label: "2020", rankCount: 12},
        { year: "2019", label: "2019", rankCount: 12 },
        { year: "2018.5", label: "2018b", rankCount: 11 },
        { year: "2018", label: "2018a", rankCount: 10},
        { year: "2017", label: "2017", rankCount: 5 },
        { year: "2016", label: "2016", rankCount: 5 },
        { year: "2015", label: "2015", rankCount: 5 },  
        { year: "2014", label: "2014", rankCount: 5},
        { year: "2013", label: "2013", rankCount: 5 },
        { year: "2012", label: "2012", rankCount: 5 },
        { year: "2011", label: "2011", rankCount: 5 },
        { year: "2009", label: "2009", rankCount: 5 },
        { year: "2008", label: "2008", rankCount: 5 },
        { year: "2007", label: "2007", rankCount: 5 },
        { year: "2004", label: "2004", rankCount: 5 },
        { year: "2002.5", label: "2002b", rankCount: 5},
        { year: "2002", label: "2002a", rankCount: 5 },
        { year: "1999.5", label: "1999b", rankCount: 5 },
        { year: "1999", label: "1999a", rankCount: 5 },
        { year: "1998", label: "1998", rankCount: 5 },
        { year: "1997", label: "1997", rankCount: 5 },
        { year: "1996", label: "1996", rankCount: 5 },
        { year: "1995", label: "1995", rankCount: 5},
        { year: "1993", label: "1993", rankCount: 5 },
        { year: "1991", label: "1991", rankCount: 5 },
        { year: "1990", label: "1990", rankCount: 5 },
        { year: "1987", label: "1987", rankCount: 4 },
        { year: "1984", label: "1984", rankCount: 4 },
        { year: "1982", label: "1982", rankCount: 4 },
        { year: "1981", label: "1981", rankCount: 4 },
        { year: "1979", label: "1979", rankCount: 4 },
        { year: "1978", label: "1978", rankCount: 4 },
        { year: "1976", label: "1976", rankCount: 4 },
        { year: "1975", label: "1975", rankCount: 4 },
        { year: "1974", label: "1974", rankCount: 3 },
        { year: "1971", label: "1971", rankCount: 3 }
    ]

    // This runs when the DOM hierarchy has been fully constructed.
    document.addEventListener("DOMContentLoaded", function () {

        const containerSelector = "#d3_taxonomy_vis_container";
        const dataURL = ".";
        const taxonDetailsURL = "https://ictv.global/taxonomy/taxondetails";
        
        // The taxonomy web service URL.
        const taxonomyURL = "https://data.ictv.global/api/taxonomy.ashx";

        window.ICTV.d3TaxonomyVisualization(containerSelector, dataURL, releases, taxonDetailsURL, taxonomyURL);
    });
    
</script>
</body>
</html>
