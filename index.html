<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Virus Taxonomy</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <link rel="stylesheet" href="../css/stylesheet.css">
    
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
</head>
<body>
<h1 class="center">Virus Taxonomy</h1>
<div id="d3_taxonomy_vis_container">
    <div class="release-panel">

        <select class="release-ctrl"></select>
    </div>
    <div id="search"></div>
    <div class="body-panel">

        <div class="taxonomy-panel"></div>
        <div class="species-panel light-bg">
            <div class="parent-name"></div>
            <div class="species-list"></div>
        </div>
    </div>
</div>
<script src="../js/script.js"></script>
<script type="text/javascript">

    // All ICTV MSL releases
    const releases = [
        { year: "1971", rankCount: 3 },

        { year: "1974", rankCount: 3 },

        { year: "1975", rankCount: 4 },

        { year: "1976", rankCount: 4 },

        { year: "1978", rankCount: 4 },

        { year: "1979", rankCount: 4 },

        { year: "1981", rankCount: 4 },

        { year: "1982", rankCount: 4 },

        { year: "1984", rankCount: 4 },

        { year: "1987", rankCount: 4 },

        { year: "1990", rankCount: 5 },

        { year: "1991", rankCount: 5 },

        { year: "1993", rankCount: 5 },

        { year: "1995", rankCount: 5},

        { year: "1996", rankCount: 5 },

        { year: "1997", rankCount: 5 },

        { year: "1998", rankCount: 5 },

        { year: "1999", rankCount: 5 },

        { year: "1999.5", rankCount: 5 },

        { year: "2002", rankCount: 5 },

        { year: "2002.5", rankCount: 5},

        { year: "2004", rankCount: 5 },

        { year: "2007", rankCount: 5 },

        { year: "2008", rankCount: 5 },

        { year: "2009", rankCount: 5 },

        { year: "2011", rankCount: 5 },

        { year: "2012", rankCount: 5 },

        { year: "2013", rankCount: 5 },

        { year: "2014", rankCount: 5},

        { year: "2015", rankCount: 5 },

        { year: "2016", rankCount: 5 },

        { year: "2017", rankCount: 5 },

        { year: "2018", rankCount: 10},

        { year: "2018.5", rankCount: 11 },

        { year: "2019", rankCount: 12 },

        { year: "2020", rankCount: 12},

        { year: "2021", rankCount: 12 },

        { year: "2022", rankCount: 12 }

    ]

    // This runs when the DOM hierarchy has been fully constructed.
    document.addEventListener("DOMContentLoaded", function () {

        const containerSelector = "#d3_taxonomy_vis_container";
        const dataURL = "..";
        const taxonDetailsURL = "https://ictv.global/taxonomy/taxondetails";

        window.ICTV.d3TaxonomyVisualization(containerSelector, dataURL, releases, taxonDetailsURL);
    });
    
</script>
</body>
</html>
